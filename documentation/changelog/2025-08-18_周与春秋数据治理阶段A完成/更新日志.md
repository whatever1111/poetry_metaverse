# å‘¨ä¸æ˜¥ç§‹æ•°æ®æ²»ç†é˜¶æ®µAå®Œæˆ - æ›´æ–°æ—¥å¿—

> **æ›´æ–°æ—¥æœŸ**: 2025-08-18  
> **æ›´æ–°ç±»å‹**: æ¶æ„é‡æ„ / æ•°æ®æ²»ç†  
> **å½±å“èŒƒå›´**: å‘¨ä¸æ˜¥ç§‹å­é¡¹ç›®æ•°æ®æ¨¡å‹ã€APIæœåŠ¡å±‚  

---

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°å®Œæˆäº†"å‘¨ä¸æ˜¥ç§‹"å­é¡¹ç›®çš„æ•°æ®ç»“æ„æ²»ç†ï¼Œå®ç°äº†"æ•°æ®ç»“æ„å°ç‰ˆ"ã€‚é€šè¿‡ç³»ç»Ÿæ€§çš„æ•°æ®æå–ã€å®¡æ ¸ã€è¿ç§»å’ŒAPIé€‚é…ï¼Œä¸ºåç»­å¼•å…¥Vue.jsæ¡†æ¶å¥ å®šäº†åšå®çš„æ•°æ®åŸºç¡€ã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ ‡
- ä¼˜åŒ–æ•°æ®æ¨¡å‹ï¼Œæ”¯æŒç”¨æˆ·åŸå‹è§£è¯»åŠŸèƒ½
- é‡æ„è¯—æ­Œå†…å®¹ä¸ºç»“æ„åŒ–JSONæ ¼å¼
- ç¡®ä¿æ•°æ®è¿ç§»çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§
- ä¿æŒAPIæœåŠ¡çš„å‘åå…¼å®¹æ€§

---

## ğŸ”§ æŠ€æœ¯å˜æ›´

### æ•°æ®åº“Schemaå˜æ›´

#### ZhouMappingè¡¨å¢å¼º
- **æ–°å¢å­—æ®µ**: `meaning String?`
- **ç”¨é€”**: å­˜å‚¨ç”¨æˆ·åŸå‹è§£è¯»çš„è¯¦ç»†è¯´æ˜
- **å½±å“**: æ”¯æŒè¯—æ­ŒåŸå‹é—®ç­”åŠŸèƒ½çš„æ•°æ®å­˜å‚¨

#### ZhouPoemè¡¨é‡æ„
- **å­—æ®µå˜æ›´**: `body String?` â†’ `body Json?`
- **æ–°ç»“æ„**:
  ```json
  {
    "quote_text": "å¼•ç”¨æ–‡æœ¬å†…å®¹",
    "quote_citation": "â€”â€”ã€Šæ˜¥ç§‹å…¬ç¾Šä¼ Â·é—µå…¬ã€‹",
    "main_text": "ä¸»è¦è¯—æ­Œå†…å®¹"
  }
  ```
- **ç”¨é€”**: æ”¯æŒç»“æ„åŒ–è¯—æ­Œå†…å®¹ï¼Œä¾¿äºå‰ç«¯å±•ç¤ºå’Œæ•°æ®å¤„ç†

### APIæœåŠ¡å±‚é€‚é…

#### æ˜ å°„å‡½æ•°æ›´æ–°
- **æ–‡ä»¶**: `lugarden_universal/application/src/services/mappers.js`
- **å˜æ›´**: æ”¯æŒæ–°çš„meaningå­—æ®µå’ŒJSONæ ¼å¼bodyå­—æ®µ
- **å…¼å®¹æ€§**: ä¿æŒå‘åå…¼å®¹ï¼Œè‡ªåŠ¨å¤„ç†æ–°æ—§æ•°æ®æ ¼å¼

#### APIè·¯ç”±å¢å¼º
- **æ–‡ä»¶**: `lugarden_universal/application/src/routes/public.js`
- **æ–‡ä»¶**: `lugarden_universal/application/src/routes/admin.js`
- **å˜æ›´**: æ”¯æŒæ–°çš„æ•°æ®ç»“æ„ï¼Œå¢å¼ºç®¡ç†åŠŸèƒ½

#### æ–‡æ¡£åŒæ­¥æ›´æ–°
- **APIå¥‘çº¦**: `documentation/backend/api-contracts.md`
- **å­—æ®µæ˜ å°„**: `documentation/backend/field-mapping.md`
- **å†…å®¹**: è¯¦ç»†è¯´æ˜æ–°çš„æ•°æ®ç»“æ„å’ŒAPIå“åº”æ ¼å¼

---

## ğŸ“Š æ•°æ®è¿ç§»æˆæœ

### æ•°æ®æå–ä¸è§£æ
- **meaningæ•°æ®**: æˆåŠŸæå–48æ¡ç”¨æˆ·åŸå‹è§£è¯»è®°å½•
- **bodyæ•°æ®**: æˆåŠŸè§£æ48é¦–è¯—æ­Œçš„ç»“æ„åŒ–å†…å®¹
- **è§£ææˆåŠŸç‡**: 100%
- **æ•°æ®å®Œæ•´æ€§**: 100%

### æ•°æ®å†™å…¥éªŒè¯
- **ZhouMapping.meaning**: 48æ¡è®°å½•ï¼Œ100%å®Œæ•´åº¦
- **ZhouPoem.body**: 48é¦–è¯—æ­Œï¼Œ100%å®Œæ•´åº¦
- **æ•°æ®ä¸€è‡´æ€§**: ä¸æºæ–‡ä»¶å®Œå…¨ä¸€è‡´

### è¿ç§»è„šæœ¬
- **æå–è„šæœ¬**: `extract-meaning-data.cjs`, `parse-body-data.cjs`
- **å†™å…¥è„šæœ¬**: `write-meaning-data.cjs`, `write-body-data.cjs`
- **éªŒè¯è„šæœ¬**: `verify-data-write.cjs`, `verify-api-changes.cjs`

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### å•å…ƒæµ‹è¯•
- **æµ‹è¯•æ–‡ä»¶**: `lugarden_universal/application/tests/`
- **æµ‹è¯•ç»“æœ**: 19ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- **è¦†ç›–èŒƒå›´**: APIå¥‘çº¦ã€CRUDæ“ä½œã€è®¤è¯æœºåˆ¶

### é›†æˆéªŒè¯
- **APIéªŒè¯**: ç¡®è®¤æ‰€æœ‰ç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- **æ•°æ®éªŒè¯**: ç¡®è®¤æ–°å­—æ®µæ­£ç¡®è¿”å›
- **å…¼å®¹æ€§éªŒè¯**: ç¡®è®¤å‘åå…¼å®¹æ€§å¾—åˆ°ä¿è¯

---

## ğŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶
```
lugarden_universal/application/scripts/migration/
â”œâ”€â”€ extract-meaning-data.cjs
â”œâ”€â”€ parse-body-data.cjs
â”œâ”€â”€ generate-validation-report.cjs
â”œâ”€â”€ write-meaning-data.cjs
â”œâ”€â”€ write-body-data.cjs
â”œâ”€â”€ verify-data-write.cjs
â”œâ”€â”€ verify-api-changes.cjs
â””â”€â”€ temp/
    â”œâ”€â”€ meaning_report.json
    â”œâ”€â”€ body_parsing_report.json
    â”œâ”€â”€ validation_report.json
    â”œâ”€â”€ meaning_write_report.json
    â”œâ”€â”€ body_write_report.json
    â”œâ”€â”€ data_verification_report.json
    â””â”€â”€ api_verification_report.json

lugarden_universal/application/prisma/migrations/
â””â”€â”€ 20250818085432_feature_zhou_data_governance/
    â””â”€â”€ migration.sql

lugarden_universal/application/data/
â””â”€â”€ lugarden.db.backup.20250818_165419
```

### ä¿®æ”¹æ–‡ä»¶
```
lugarden_universal/application/prisma/schema.prisma
lugarden_universal/application/src/services/mappers.js
lugarden_universal/application/src/routes/public.js
lugarden_universal/application/src/routes/admin.js
lugarden_universal/application/tests/admin-universes.crud.test.js
documentation/backend/api-contracts.md
documentation/backend/field-mapping.md
```

---

## ğŸ”„ è¿ç§»æµç¨‹

### é˜¶æ®µA.1: æ•°æ®æå–ä¸è§£æ
1. ä»`questions.json`æå–meaningæ•°æ®
2. è§£æç°æœ‰bodyå­—æ®µä¸ºç»“æ„åŒ–æ ¼å¼
3. ç”ŸæˆéªŒè¯æŠ¥å‘Š

### é˜¶æ®µA.2: äººå·¥å®¡æ ¸ä¸éªŒè¯
1. äººå·¥å®¡æ ¸æå–çš„æ•°æ®
2. ä¿®æ­£æ ¼å¼é—®é¢˜ï¼ˆç ´æŠ˜å·ã€æ¢è¡Œç¬¦ï¼‰
3. ç¡®è®¤æœ€ç»ˆæ•°æ®ç‰ˆæœ¬

### é˜¶æ®µA.3: Schemaå˜æ›´è®¾è®¡
1. è®¾è®¡æ–°çš„æ•°æ®åº“ç»“æ„
2. æ·»åŠ meaningå­—æ®µ
3. é‡æ„bodyå­—æ®µä¸ºJSONæ ¼å¼

### é˜¶æ®µA.4: æ•°æ®åº“è¿ç§»
1. å¤‡ä»½ç°æœ‰æ•°æ®åº“
2. æ‰§è¡ŒPrismaè¿ç§»
3. é‡æ–°ç”ŸæˆPrisma Client

### é˜¶æ®µA.5: æ•°æ®å†™å…¥ä¸éªŒè¯
1. å†™å…¥meaningæ•°æ®åˆ°ZhouMappingè¡¨
2. å†™å…¥ç»“æ„åŒ–bodyæ•°æ®åˆ°ZhouPoemè¡¨
3. éªŒè¯æ•°æ®å®Œæ•´æ€§

### é˜¶æ®µA.6: APIæœåŠ¡å±‚é€‚é…
1. æ›´æ–°æ˜ å°„å‡½æ•°æ”¯æŒæ–°æ•°æ®ç»“æ„
2. ä¿®æ”¹APIè·¯ç”±å¤„ç†æ–°å­—æ®µ
3. åŒæ­¥æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•

---

## âœ… éªŒæ”¶æ ‡å‡†

### æ•°æ®å®Œæ•´æ€§
- [x] æ‰€æœ‰meaningæ•°æ®æ­£ç¡®è¿ç§»
- [x] æ‰€æœ‰bodyæ•°æ®æ­£ç¡®è§£æå’Œè¿ç§»
- [x] æ— æ•°æ®ä¸¢å¤±æˆ–æŸå

### APIåŠŸèƒ½
- [x] æ‰€æœ‰APIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- [x] æ–°å­—æ®µæ­£ç¡®è¿”å›
- [x] å‘åå…¼å®¹æ€§å¾—åˆ°ä¿è¯

### æµ‹è¯•è¦†ç›–
- [x] å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡
- [x] é›†æˆæµ‹è¯•éªŒè¯é€šè¿‡
- [x] APIéªŒè¯è„šæœ¬ç¡®è®¤åŠŸèƒ½æ­£å¸¸

---

## ğŸš€ åç»­è®¡åˆ’

### é˜¶æ®µB: å‰ç«¯ç°ä»£åŒ–è¿ç§»è§„åˆ’
- åˆ¶å®šVue.jsè¿ç§»ç­–ç•¥
- æ­å»ºVueå¼€å‘ç¯å¢ƒ
- è®¾è®¡ç»„ä»¶æ¶æ„

### é˜¶æ®µC: å‰ç«¯ç°ä»£åŒ–è¿ç§»å®æ–½
- å®æ–½Vueç»„ä»¶è¿ç§»
- å®ŒæˆåŠŸèƒ½å¯¹é½
- æå‡å¯ç»´æŠ¤æ€§

---

## ğŸ“ æŠ€æœ¯å€ºåŠ¡

### å·²è§£å†³
- æ•°æ®æ¨¡å‹ç»“æ„ä¼˜åŒ–
- APIæœåŠ¡å±‚é€‚é…
- æ–‡æ¡£åŒæ­¥æ›´æ–°

### å¾…å¤„ç†
- å‰ç«¯ç°ä»£åŒ–è¿ç§»
- æ€§èƒ½ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒæå‡

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **TODOæ¸…å•**: `TODO_zhou_data_governance_and_vue_migration.md`
- **APIæ–‡æ¡£**: `documentation/backend/api-contracts.md`
- **å­—æ®µæ˜ å°„**: `documentation/backend/field-mapping.md`
- **è¿ç§»è„šæœ¬**: `lugarden_universal/application/scripts/migration/`

---

*æœ¬æ›´æ–°æ—¥å¿—è®°å½•äº†å‘¨ä¸æ˜¥ç§‹æ•°æ®æ²»ç†é˜¶æ®µAçš„å®Œæ•´å®æ–½è¿‡ç¨‹ï¼Œä¸ºåç»­çš„å‰ç«¯ç°ä»£åŒ–è¿ç§»å¥ å®šäº†åšå®çš„æ•°æ®åŸºç¡€ã€‚*
